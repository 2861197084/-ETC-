# ETC 高速公路大数据管理平台

> 面向高速公路ETC系统的大数据管理平台，支持实时数据接入、可视化大屏、交互式查询和智能预测分析。

![Platform Preview](example/2.png)

## 项目概述

本平台是一个完整的高速公路ETC大数据管理解决方案，具备以下核心能力：

- **实时数据接入**：支持 ≥50条/秒 的数据持续写入
- **可视化大屏**：30秒自动刷新，全网态势一目了然
- **交互式查询**：多条件组合查询，支持数据导出
- **智能预测**：基于机器学习的车流预测与治理建议
- **实时告警**：套牌车检测、拥堵预警等场景

## 技术架构

```
┌─────────────────────────────────────────────────────────────┐
│                     展示层 (Frontend)                        │
│  Vue 3 + Vite + TypeScript + ECharts + Naive UI             │
├─────────────────────────────────────────────────────────────┤
│                     服务层 (Backend)                         │
│  API Services / WebSocket / 缓存层 (Redis)                   │
├─────────────────────────────────────────────────────────────┤
│                     处理层 (Processing)                      │
│  Flink 实时清洗 / 窗口聚合 / 告警检测                          │
├─────────────────────────────────────────────────────────────┤
│                     存储层 (Storage)                         │
│  HBase (明细数据) / MySQL 分片 (聚合指标) / Kafka (消息队列)    │
└─────────────────────────────────────────────────────────────┘
```

## 功能模块

### 1. 数据可视化大屏

- **数据总览**：车辆总数、分类统计、实时 KPI 展示
- **地图态势**：中国地图热力图，车辆来源分布
- **趋势分析**：24小时车流趋势、分时段统计
- **告警中心**：实时告警滚动、告警详情展示
- **排行榜单**：车辆型号排行、站点流量 TOP

### 2. 交互式查询

- 多条件组合筛选（车牌、站点、时间、车型）
- 查询结果表格展示与分页
- 数据导出功能（CSV/Excel）
- 车辆轨迹回放

### 3. 离线预测与建议

- 历史车流数据分析
- 未来车流量预测（15/30/60分钟）
- 治理建议生成
- 场景模拟分析

## 数据字段说明

课程样例数据字段映射关系：

| 原始字段 | 中文含义 | 数据类型 | 示例/说明 |
|---------|---------|---------|----------|
| `GCXH` | 序号 | BIGINT | 明细记录序号 |
| `XZQHMC` | 行政区划 | VARCHAR | 省/市/区名称或代码 |
| `KKMC` | 卡口名称 | VARCHAR | 门架/卡口名称 |
| `FXLX` | 方向 | TINYINT/VARCHAR | 上行/下行/进城/出城 |
| `GCSJ` | 过车时间 | DATETIME | 车辆经过卡口的时间 |
| `HPZL` | 号牌种类 | TINYINT/VARCHAR | 蓝牌/黄牌/新能源等 |
| `HPHM` | 车牌号码 | VARCHAR | 已脱敏：仅保留前4位 |
| `CLPPXH` | 车辆品牌型号 | VARCHAR | 品牌+型号或编码 |

> 注：车牌字段已做脱敏处理，仅保留前4位，其余用 `***` 替代。

## 快速开始

### 环境要求

- Node.js >= 18.0
- npm >= 9.0

### 安装与运行

```bash
# 进入前端目录
cd fronted

# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build
```

### 访问地址

- 开发环境：http://localhost:5174 （端口可能因占用而变化）
- 系统首页：http://localhost:5174/
- ETC实时监控：http://localhost:5174/etc/monitor
- 数据查询中心：http://localhost:5174/etc/query
- 离线预测分析：http://localhost:5174/etc/prediction

> 注：前端基于开源项目 art-design-pro，已通过路由配置隐藏无关模块菜单，仅显示ETC大数据平台相关功能。

## 项目结构

```
etc-bigdata-platform/
├── fronted/                     # 前端项目（基于 art-design-pro）
│   ├── src/
│   │   ├── api/                # API 接口定义
│   │   ├── assets/             # 静态资源
│   │   ├── components/         # 通用组件
│   │   │   └── business/etc/   # ETC业务组件
│   │   ├── config/             # 配置文件
│   │   ├── directives/         # Vue指令
│   │   ├── hooks/              # 组合式函数
│   │   ├── locales/            # 国际化配置
│   │   ├── mock/               # Mock 数据
│   │   ├── router/             # 路由配置
│   │   │   └── modules/        # 路由模块
│   │   │       ├── etc.ts      # ETC路由（显示）
│   │   │       └── ...         # 其他路由（已隐藏菜单）
│   │   ├── store/              # Pinia 状态管理
│   │   ├── types/              # TypeScript类型定义
│   │   ├── utils/              # 工具函数
│   │   └── views/              # 页面视图
│   │       ├── etc/            # ETC相关页面 ✅
│   │       │   ├── monitor/    # 实时监控指挥舱
│   │       │   ├── query/      # 数据查询中心
│   │       │   └── prediction/ # 离线预测分析
│   │       ├── auth/           # 认证页面（菜单已隐藏）
│   │       ├── dashboard/      # 原框架大屏（菜单已隐藏）
│   │       └── ...             # 其他模块（菜单已隐藏）
│   └── package.json
├── data/                        # 样例数据
├── example/                     # 设计参考
├── README.md                    # 项目说明
├── 需求文档.md                  # 需求分析
├── 实施方案.md                  # 实施分工
├── 实施进度.md                  # 进度跟踪
└── 设计文档.md                  # 设计文档
```

## 技术栈

| 类别 | 技术选型 | 说明 |
|------|----------|------|
| 框架 | Vue 3.4+ | Composition API |
| 构建 | Vite 5.x | 快速开发体验 |
| UI库 | Element Plus + Naive UI | 混合使用组件库 |
| 图表 | ECharts 5.x | 数据可视化 |
| 地图 | ECharts Map | 中国地图 |
| 状态 | Pinia | 状态管理 |
| 路由 | Vue Router 4 | SPA路由 |
| CSS | UnoCSS + SCSS | 原子化CSS |
| 语言 | TypeScript | 类型安全 |

## 设计规范

### 大屏主题 (Dark Tech)

- **背景色**：深色渐变 `#0a1628` → `#0d1e36`
- **卡片**：半透明玻璃态 `rgba(6, 30, 61, 0.8)`
- **边框**：发光效果 `rgba(30, 144, 255, 0.3)`
- **主色**：青蓝 `#00d4ff`
- **成功色**：绿色 `#00ff88`
- **警告色**：橙色 `#ffaa00`
- **危险色**：红色 `#ff6b35`

### 字体规范

- **数字**：DIN Alternate（数据展示）
- **中文**：思源黑体 / 苹方 / 微软雅黑

## 开发规范

1. **组件命名**：使用 PascalCase，如 `KPIStatCard.vue`
2. **文件命名**：使用 camelCase，如 `useDashboardData.ts`
3. **CSS 类名**：使用 BEM 命名规范
4. **代码风格**：遵循 ESLint + Prettier 配置

## 后续规划

- [ ] 后端 API 服务开发
- [ ] 数据库设计与实现
- [ ] Flink 实时处理作业
- [ ] 套牌车检测算法
- [ ] 车流预测模型
- [ ] Docker 部署方案

## 参考资料

- [Vue 3 文档](https://cn.vuejs.org/)
- [ECharts 文档](https://echarts.apache.org/zh/)
- [Naive UI 文档](https://www.naiveui.com/)
- [需求文档](./需求文档.md)
- [实施方案](./实施方案.md)

## License

MIT License

