# 彭城交通系统 - 前端改造规划方案

> 生成时间：2025年12月17日

## 一、项目概述

### 1.1 项目名称
**彭城交通** (Pengcheng Traffic Management System)

### 1.2 项目定位
基于现有 Art Design Pro 框架进行定制化开发的智能交通管理系统前端，服务于两类用户群体：
- **交通管理员**：进行交通监控、数据分析、违规处理
- **普通车主**：查看个人通行记录、账单、异常提醒

---

## 二、整体样式改造

### 2.1 配色方案 - 浅色系
```scss
// 主色调 - 交通蓝
$primary-color: #1890ff;        // 主色
$primary-light: #40a9ff;        // 主色浅
$primary-lighter: #e6f7ff;      // 主色最浅（背景用）

// 辅助色
$success-color: #52c41a;        // 成功/正常状态
$warning-color: #faad14;        // 警告/拥堵预警
$danger-color: #ff4d4f;         // 危险/违规
$info-color: #1890ff;           // 信息

// 背景色
$bg-primary: #ffffff;           // 主背景
$bg-secondary: #fafbfc;         // 次级背景
$bg-tertiary: #f0f2f5;          // 第三级背景

// 文字色
$text-primary: #1f2329;         // 主要文字
$text-secondary: #646a73;       // 次要文字
$text-placeholder: #bbbfc4;     // 占位符

// 边框色
$border-color: #e5e6eb;         // 默认边框
$border-light: #f0f1f3;         // 浅色边框
```

### 2.2 主题配置修改
需修改文件：
- `src/config/index.ts` - 系统名称改为"彭城交通"
- `src/config/setting.ts` - 默认使用浅色主题
- `src/assets/styles/` - 更新主题变量
- `index.html` - 修改页面标题

### 2.3 Logo 处理
- 源文件：`fronted/logo.png`
- 目标路径：`src/assets/images/common/logo.png`
- 同时更新 `favicon.ico`

---

## 三、用户角色与权限设计

### 3.1 角色定义
```typescript
// src/enums/roleEnum.ts (新建)
export enum RoleEnum {
  /** 交通管理员 */
  TRAFFIC_ADMIN = 'TRAFFIC_ADMIN',
  /** 普通车主 */
  CAR_OWNER = 'CAR_OWNER'
}
```

### 3.2 权限码设计
```typescript
// src/enums/permissionEnum.ts (新建)
export enum PermissionEnum {
  // 管理员权限
  ADMIN_MAP = 'admin:map',           // 管理员地图大屏
  ADMIN_REALTIME = 'admin:realtime', // 实时数据
  ADMIN_QUERY = 'admin:query',       // 离线查询
  ADMIN_TEXT2SQL = 'admin:text2sql', // Text2SQL
  
  // 车主权限
  OWNER_MAP = 'owner:map',           // 车主地图
  OWNER_RECORDS = 'owner:records',   // 通行记录
  OWNER_BILLS = 'owner:bills',       // 通行账单
  OWNER_ALERTS = 'owner:alerts',     // 异常提醒
}
```

---

## 四、交通管理员模块设计

### 4.1 页面结构
```
/admin                              # 管理员根路由
├── /admin/map                      # 地图大屏
├── /admin/realtime                 # 实时数据显示
│   ├── 违禁信息面板
│   ├── 站口压力面板
│   └── 统计概览面板
└── /admin/query                    # 离线数据查询
    ├── 筛选查询模块
    └── Text2SQL模块
```

### 4.2 页面一：地图大屏 `/admin/map`

#### 4.2.1 布局设计
```
┌─────────────────────────────────────────────────────────────────┐
│  顶部导航栏（系统名称 + 时间 + 用户信息）                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│                                                                 │
│                       高德地图容器                               │
│                    （全屏显示模式）                              │
│                                                                 │
│  ┌──────────┐                              ┌──────────────────┐ │
│  │ 图层控制 │                              │   实时数据悬浮框  │ │
│  └──────────┘                              │   - 在线设备数    │ │
│                                            │   - 今日流量      │ │
│                                            │   - 异常事件数    │ │
│                                            └──────────────────┘ │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

#### 4.2.2 功能模块
1. **地图容器** - 预留高德API接入位置
2. **图层控制** - 卡口位置、交通流量热力图、拥堵路段标记
3. **实时数据悬浮框** - 关键指标实时显示
4. **事件标记** - 违规车辆、拥堵点位标记

#### 4.2.3 组件规划
```
src/views/admin/map/
├── index.vue                    # 主页面
├── components/
│   ├── MapContainer.vue         # 地图容器（高德API预留）
│   ├── LayerControl.vue         # 图层控制面板
│   ├── RealTimeStats.vue        # 实时统计悬浮框
│   └── EventMarker.vue          # 事件标记组件
└── hooks/
    └── useAMap.ts               # 高德地图 Hook（预留）
```

---

### 4.3 页面二：实时数据显示 `/admin/realtime`

#### 4.3.1 布局设计
```
┌─────────────────────────────────────────────────────────────────┐
│  顶部导航栏                                                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐   │
│  │   今日总流量    │ │   今日总营收    │ │   平均车速      │   │
│  │    125,432     │ │   ¥ 892,156    │ │   68 km/h      │   │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────┐ ┌─────────────────────────┐│
│  │        违禁信息显示              │ │      站口压力预警       ││
│  │  ┌─────────────────────────────┐│ │  ┌───────────────────┐  ││
│  │  │ 🚨 套牌车检测              ││ │  │   拥堵预警列表     │  ││
│  │  │  苏C·12345 | 最后出现：    ││ │  │  ┌─────────────┐   │  ││
│  │  │  徐州东站卡口 | 14:32:15   ││ │  │  │ 徐州东站   │   │  ││
│  │  │  [查看轨迹] [标记处理]     ││ │  │  │ 预测拥堵等级：高│  ││
│  │  └─────────────────────────────┘│ │  │  │ 预计持续：30分钟│  ││
│  │  ┌─────────────────────────────┐│ │  │  └─────────────┘   │  ││
│  │  │ ⚠️ 其他违禁信息            ││ │  │  ┌─────────────┐   │  ││
│  │  │  车牌 | 违禁类型 | 卡口    ││ │  │  │ 铜山收费站  │   │  ││
│  │  │  苏C·67890 | 超速 | 北站   ││ │  │  │ 预测拥堵等级：中│  ││
│  │  └─────────────────────────────┘│ │  │  └─────────────┘   │  ││
│  └─────────────────────────────────┘ └─────────────────────────┘│
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

#### 4.3.2 功能模块详细设计

**A. 违禁信息显示**
1. **套牌车检测**
   - 实时监测同一车牌短时间内出现在不同卡口
   - 显示字段：车牌号、最后出现卡口、时间、置信度
   - 操作：查看轨迹、标记处理、加入黑名单

2. **其他违禁信息**
   - 列表展示违规记录
   - 显示字段：车牌号、违规类型、发现卡口、时间
   - 违规类型：超速、逆行、闯红灯、未系安全带等

**B. 站口压力预警**
- 基于预测模型的拥堵预警
- 显示字段：站口名称、预测拥堵等级（高/中/低）、预计持续时间
- 颜色标识：红色（高）、橙色（中）、黄色（低）
- 操作：查看详情、发布预警

**C. 统计概览**
- 今日总流量（实时更新）
- 今日总营收
- 平均车速
- 可扩展：同比/环比数据

#### 4.3.3 组件规划
```
src/views/admin/realtime/
├── index.vue                    # 主页面
├── components/
│   ├── StatsOverview.vue        # 统计概览卡片
│   ├── ViolationPanel.vue       # 违禁信息面板
│   ├── ClonePlateAlert.vue      # 套牌车检测组件
│   ├── ViolationList.vue        # 违禁列表组件
│   ├── PressureWarning.vue      # 站口压力预警组件
│   └── PressureCard.vue         # 单个站口压力卡片
└── hooks/
    ├── useRealtimeData.ts       # 实时数据 Hook
    └── useWebSocket.ts          # WebSocket 连接
```

---

### 4.4 页面三：离线数据查询 `/admin/query`

#### 4.4.1 布局设计
```
┌─────────────────────────────────────────────────────────────────┐
│  顶部导航栏                                                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌────────────────────────────────────────────────────────────┐ │
│  │  📋 快速筛选查询                                           │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌──────┐ │ │
│  │  │时间范围 │ │ 卡口选择│ │车牌号码 │ │ 车辆类型│ │ 查询 │ │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘ └──────┘ │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐                      │ │
│  │  │通行状态 │ │费用范围 │ │ 更多... │                      │ │
│  │  └─────────┘ └─────────┘ └─────────┘                      │ │
│  └────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  ┌────────────────────────────────────────────────────────────┐ │
│  │  🤖 智能查询 (Text2SQL)                                    │ │
│  │  ┌───────────────────────────────────────────────────────┐ │ │
│  │  │ 请输入您的查询需求...                                  │ │ │
│  │  │ 例如：查询昨天下午苏C开头的所有通行记录                 │ │ │
│  │  └───────────────────────────────────────────────────────┘ │ │
│  │  生成的 SQL：                                              │ │
│  │  ┌───────────────────────────────────────────────────────┐ │ │
│  │  │ SELECT * FROM traffic_records                         │ │ │
│  │  │ WHERE plate_number LIKE '苏C%'                        │ │ │
│  │  │ AND pass_time BETWEEN '2025-12-16 12:00' AND ...     │ │ │
│  │  └───────────────────────────────────────────────────────┘ │ │
│  │  [编辑SQL] [执行查询]                                      │ │
│  └────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  ┌────────────────────────────────────────────────────────────┐ │
│  │  📊 查询结果                                               │ │
│  │  ┌───────────────────────────────────────────────────────┐ │ │
│  │  │ 车牌号码 │ 通行时间 │ 入口站 │ 出口站 │ 费用 │ 操作  │ │ │
│  │  │ 苏C12345 │ 14:32:15│ 徐州东│ 铜山  │ ¥25 │ 详情  │ │ │
│  │  └───────────────────────────────────────────────────────┘ │ │
│  └────────────────────────────────────────────────────────────┘ │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

#### 4.4.2 功能模块详细设计

**A. 快速筛选查询**
预设筛选条件：
| 筛选项 | 类型 | 选项 |
|--------|------|------|
| 时间范围 | 日期范围选择器 | 今天/昨天/本周/本月/自定义 |
| 卡口选择 | 多选下拉框 | 所有卡口列表 |
| 车牌号码 | 输入框 | 支持模糊搜索 |
| 车辆类型 | 下拉框 | 小型车/中型车/大型车/摩托车 |
| 通行状态 | 下拉框 | 正常/异常/待处理 |
| 费用范围 | 数字范围 | 最低-最高 |

**B. Text2SQL 智能查询**
- 自然语言输入框
- SQL 预览/编辑区
- 执行按钮
- 历史查询记录
- 常用查询模板

**C. 查询结果展示**
- 表格分页展示
- 支持排序、筛选
- 导出功能（Excel/CSV）
- 详情弹窗

#### 4.4.3 组件规划
```
src/views/admin/query/
├── index.vue                    # 主页面
├── components/
│   ├── QuickFilter.vue          # 快速筛选组件
│   ├── Text2SqlPanel.vue        # Text2SQL 面板
│   ├── SqlEditor.vue            # SQL 编辑器
│   ├── QueryResult.vue          # 查询结果表格
│   ├── RecordDetail.vue         # 记录详情弹窗
│   └── QueryHistory.vue         # 查询历史
└── hooks/
    ├── useQueryFilter.ts        # 筛选逻辑
    └── useText2Sql.ts           # Text2SQL Hook
```

---

## 五、普通车主模块设计

### 5.1 页面结构
```
/owner                              # 车主根路由
├── /owner/map                      # 地图大屏
└── /owner/records                  # 数据展示与查询
    ├── 通行记录
    ├── 异常提醒
    ├── 通行账单
    └── 行驶轨迹
```

### 5.2 页面一：地图大屏 `/owner/map`

#### 5.2.1 布局设计
```
┌─────────────────────────────────────────────────────────────────┐
│  顶部导航栏（系统名称 + 车主信息 + 车辆切换）                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│                       高德地图容器                               │
│                                                                 │
│  ┌──────────┐                              ┌──────────────────┐ │
│  │ 我的车辆 │                              │    我的统计      │ │
│  │ 苏C12345 │                              │   本月通行：12次 │ │
│  │ 苏C67890 │                              │   本月费用：¥156 │ │
│  └──────────┘                              └──────────────────┘ │
│                                                                 │
│                    [查看历史轨迹] [路线规划]                      │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

#### 5.2.2 功能模块
1. **地图容器** - 显示个人车辆最近位置（如有GPS）
2. **我的车辆** - 绑定车辆列表
3. **个人统计** - 本月通行次数、费用
4. **历史轨迹** - 回放功能入口
5. **路线规划** - 高德路线规划集成

#### 5.2.3 组件规划
```
src/views/owner/map/
├── index.vue                    # 主页面
├── components/
│   ├── MapContainer.vue         # 地图容器
│   ├── VehicleList.vue          # 车辆列表
│   ├── PersonalStats.vue        # 个人统计
│   └── TrajectoryPlayer.vue     # 轨迹回放组件
└── hooks/
    └── useOwnerMap.ts           # 车主地图 Hook
```

---

### 5.3 页面二：数据展示与查询 `/owner/records`

#### 5.3.1 布局设计
```
┌─────────────────────────────────────────────────────────────────┐
│  顶部导航栏                                                      │
├─────────────────────────────────────────────────────────────────┤
│  ┌───────┐ ┌───────┐ ┌───────┐ ┌───────┐                       │
│  │通行记录│ │异常提醒│ │通行账单│ │轨迹回放│  ← Tab 切换          │
│  └───────┘ └───────┘ └───────┘ └───────┘                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  【通行记录 Tab】                                                │
│  ┌────────────────────────────────────────────────────────────┐ │
│  │  筛选：车辆选择 | 时间范围 | 入口站 | 出口站 | [查询]       │ │
│  └────────────────────────────────────────────────────────────┘ │
│  ┌────────────────────────────────────────────────────────────┐ │
│  │  📅 2025-12-17                                             │ │
│  │  ┌──────────────────────────────────────────────────────┐  │ │
│  │  │ 14:32  徐州东站 → 铜山收费站   ¥25.00   [详情]       │  │ │
│  │  │ 09:15  铜山收费站 → 徐州东站   ¥25.00   [详情]       │  │ │
│  │  └──────────────────────────────────────────────────────┘  │ │
│  │  📅 2025-12-16                                             │ │
│  │  ┌──────────────────────────────────────────────────────┐  │ │
│  │  │ 18:45  ...                                           │  │ │
│  │  └──────────────────────────────────────────────────────┘  │ │
│  └────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  【异常提醒 Tab】                                                │
│  ┌────────────────────────────────────────────────────────────┐ │
│  │  🚨 疑似套牌提醒                                           │ │
│  │  您的车辆 苏C12345 于 2025-12-16 14:32 在铜山卡口被检测，   │ │
│  │  与您同时间段的位置存在冲突，请核实。 [申诉] [忽略]          │ │
│  │                                                            │ │
│  │  ⚠️ 违章风险提示                                           │ │
│  │  您的车辆 苏C12345 于 2025-12-15 行驶速度超过限速...       │ │
│  └────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  【通行账单 Tab】                                                │
│  ┌────────────────────────────────────────────────────────────┐ │
│  │  账单月份：2025年12月 ▼    车辆：全部 ▼                    │ │
│  │  ┌──────────────────────────────────────────────────────┐  │ │
│  │  │ 本月合计：¥256.00      共 12 次通行                   │  │ │
│  │  └──────────────────────────────────────────────────────┘  │ │
│  │  账单明细列表...                                           │ │
│  │  [导出账单] [申请发票]                                      │ │
│  └────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  【智能查询 - Text2SQL】                                         │
│  ┌────────────────────────────────────────────────────────────┐ │
│  │  🤖 有什么想查询的？                                       │ │
│  │  例如：查询上个月所有超过50元的通行记录                     │ │
│  └────────────────────────────────────────────────────────────┘ │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

#### 5.3.2 功能模块详细设计

**A. 通行记录**
- 按日期分组的时间线展示
- 筛选：车辆、时间、站点
- 详情：入口时间、出口时间、里程、费用、支付方式

**B. 异常提醒**
- 疑似套牌提醒（需要车主确认）
- 违章风险提示
- 系统通知
- 操作：申诉、忽略、查看详情

**C. 通行账单**
- 月度账单汇总
- 明细列表
- 导出功能
- 发票申请

**D. 轨迹回放**
- 选择车辆和时间段
- 地图上回放行驶轨迹
- 关键节点标记

**E. Text2SQL 智能查询**
- 自然语言查询（功能同管理员，但限定车主自己的数据范围）

#### 5.3.3 组件规划
```
src/views/owner/records/
├── index.vue                    # 主页面（Tab容器）
├── components/
│   ├── PassRecords.vue          # 通行记录 Tab
│   ├── RecordTimeline.vue       # 记录时间线
│   ├── AlertList.vue            # 异常提醒 Tab
│   ├── AlertCard.vue            # 提醒卡片
│   ├── BillSummary.vue          # 账单汇总 Tab
│   ├── BillDetail.vue           # 账单明细
│   ├── TrajectoryReplay.vue     # 轨迹回放 Tab
│   └── OwnerText2Sql.vue        # 车主查询面板
└── hooks/
    ├── usePassRecords.ts        # 通行记录 Hook
    ├── useAlerts.ts             # 异常提醒 Hook
    └── useBills.ts              # 账单 Hook
```

---

## 六、路由与菜单规划

### 6.1 路由结构
```typescript
// src/router/modules/admin.ts
export const adminRoutes: AppRouteRecord = {
  name: 'Admin',
  path: '/admin',
  component: '/index/index',
  meta: {
    title: '交通管理',
    icon: 'ri:shield-user-line',
    roles: ['TRAFFIC_ADMIN']
  },
  children: [
    {
      path: 'map',
      name: 'AdminMap',
      component: '/admin/map/index',
      meta: { title: '地图大屏', icon: 'ri:map-2-line' }
    },
    {
      path: 'realtime',
      name: 'AdminRealtime',
      component: '/admin/realtime/index',
      meta: { title: '实时数据', icon: 'ri:pulse-line' }
    },
    {
      path: 'query',
      name: 'AdminQuery',
      component: '/admin/query/index',
      meta: { title: '数据查询', icon: 'ri:search-2-line' }
    }
  ]
}

// src/router/modules/owner.ts
export const ownerRoutes: AppRouteRecord = {
  name: 'Owner',
  path: '/owner',
  component: '/index/index',
  meta: {
    title: '我的车辆',
    icon: 'ri:car-line',
    roles: ['CAR_OWNER']
  },
  children: [
    {
      path: 'map',
      name: 'OwnerMap',
      component: '/owner/map/index',
      meta: { title: '地图服务', icon: 'ri:map-pin-line' }
    },
    {
      path: 'records',
      name: 'OwnerRecords',
      component: '/owner/records/index',
      meta: { title: '我的记录', icon: 'ri:file-list-3-line' }
    }
  ]
}
```

### 6.2 菜单显示逻辑
- 根据用户角色动态生成菜单
- 管理员登录后只显示管理员菜单
- 车主登录后只显示车主菜单

---

## 七、API 接口规划

### 7.1 管理员接口
```typescript
// src/api/admin/
├── map.ts           // 地图相关接口
│   ├── getCheckpoints()      // 获取卡口列表
│   ├── getTrafficHeatmap()   // 获取交通热力数据
│   └── getEvents()           // 获取事件列表
│
├── realtime.ts      // 实时数据接口
│   ├── getClonePlates()      // 获取套牌车检测数据
│   ├── getViolations()       // 获取违禁信息
│   ├── getPressureWarnings() // 获取站口压力预警
│   └── getDailyStats()       // 获取今日统计
│
└── query.ts         // 查询接口
    ├── searchRecords()       // 筛选查询
    ├── text2sql()            // Text2SQL 转换
    └── executeQuery()        // 执行 SQL 查询
```

### 7.2 车主接口
```typescript
// src/api/owner/
├── map.ts           // 地图相关接口
│   ├── getVehicles()         // 获取绑定车辆
│   └── getTrajectory()       // 获取行驶轨迹
│
├── records.ts       // 通行记录接口
│   ├── getPassRecords()      // 获取通行记录
│   ├── getRecordDetail()     // 获取记录详情
│   └── searchRecords()       // 搜索记录
│
├── alerts.ts        // 异常提醒接口
│   ├── getAlerts()           // 获取异常提醒
│   ├── markAsRead()          // 标记已读
│   └── submitAppeal()        // 提交申诉
│
└── bills.ts         // 账单接口
    ├── getBillSummary()      // 获取账单汇总
    ├── getBillDetails()      // 获取账单明细
    └── exportBill()          // 导出账单
```

---

## 八、目录结构规划

### 8.1 新增目录结构
```
src/
├── api/
│   ├── admin/                  # 管理员接口
│   │   ├── map.ts
│   │   ├── realtime.ts
│   │   └── query.ts
│   └── owner/                  # 车主接口
│       ├── map.ts
│       ├── records.ts
│       ├── alerts.ts
│       └── bills.ts
│
├── views/
│   ├── admin/                  # 管理员页面
│   │   ├── map/
│   │   ├── realtime/
│   │   └── query/
│   └── owner/                  # 车主页面
│       ├── map/
│       └── records/
│
├── components/
│   └── business/
│       └── traffic/            # 交通业务组件
│           ├── AMapContainer.vue    # 高德地图容器
│           ├── PlateNumber.vue      # 车牌号显示组件
│           ├── TrafficStats.vue     # 交通统计卡片
│           └── Text2SqlInput.vue    # Text2SQL 输入组件
│
├── hooks/
│   └── business/               # 业务 Hook
│       ├── useAMap.ts          # 高德地图
│       ├── useText2Sql.ts      # Text2SQL
│       └── useWebSocket.ts     # WebSocket 实时数据
│
├── enums/
│   ├── roleEnum.ts             # 角色枚举
│   ├── permissionEnum.ts       # 权限枚举
│   └── trafficEnum.ts          # 交通业务枚举
│
└── types/
    └── traffic/                # 交通业务类型
        ├── checkpoint.ts       # 卡口类型
        ├── vehicle.ts          # 车辆类型
        ├── record.ts           # 记录类型
        └── alert.ts            # 提醒类型
```

---

## 九、实施步骤

### 第一阶段：基础配置（预计 1 天）
- [ ] 1. 修改项目名称为"彭城交通"
- [ ] 2. 移动 logo.png 到正确位置
- [ ] 3. 配置浅色系主题为默认
- [ ] 4. 创建角色和权限枚举
- [ ] 5. 配置路由守卫支持角色切换

### 第二阶段：管理员模块（预计 3-4 天）
- [ ] 1. 创建管理员路由配置
- [ ] 2. 实现地图大屏页面（高德 API 预留）
- [ ] 3. 实现实时数据显示页面
- [ ] 4. 实现离线查询页面
- [ ] 5. 实现 Text2SQL 组件

### 第三阶段：车主模块（预计 2-3 天）
- [ ] 1. 创建车主路由配置
- [ ] 2. 实现车主地图页面
- [ ] 3. 实现数据展示页面（Tab 布局）
- [ ] 4. 实现通行记录、异常提醒、账单功能

### 第四阶段：优化完善（预计 1-2 天）
- [ ] 1. 统一样式调整
- [ ] 2. 响应式适配
- [ ] 3. 性能优化
- [ ] 4. 测试验证

---

## 十、技术要点

### 10.1 高德地图集成（预留）
```typescript
// 后续需要的配置
// src/hooks/business/useAMap.ts
export function useAMap() {
  // 初始化地图
  // 添加标记点
  // 绑定事件
  // 轨迹回放
  // 热力图
}
```

### 10.2 WebSocket 实时数据
```typescript
// src/hooks/business/useWebSocket.ts
export function useWebSocket(url: string) {
  // 建立连接
  // 消息处理
  // 断线重连
  // 心跳检测
}
```

### 10.3 Text2SQL 集成
```typescript
// src/hooks/business/useText2Sql.ts
export function useText2Sql() {
  // 发送自然语言
  // 接收 SQL
  // SQL 编辑
  // 执行查询
}
```

---

## 十一、注意事项

1. **地图 API**：高德地图 API 需要申请 Key，具体配置后续补充
2. **实时数据**：建议使用 WebSocket 保持数据实时性
3. **Text2SQL**：需要后端 AI 服务支持
4. **权限控制**：前端做路由级别和按钮级别权限控制
5. **数据安全**：车主只能查看自己的数据，管理员可查看所有数据

---

## 十二、后续扩展

- 数据大屏全屏展示模式
- 移动端适配
- 消息推送通知
- 报表导出功能
- 数据可视化图表丰富化

---

*文档版本：v1.0*  
*创建时间：2025年12月17日*
