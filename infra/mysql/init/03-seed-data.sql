USE etc;
SET NAMES utf8mb4;

-- ============================================================
-- pass_record 联合视图 (用于后端查询)
-- ============================================================
CREATE OR REPLACE VIEW pass_record AS
SELECT * FROM pass_record_0
UNION ALL
SELECT * FROM pass_record_1;

-- ============================================================
-- 初始化管理员账户
-- ============================================================
INSERT INTO sys_user (username, password, real_name, role_id, status)
VALUES ('admin', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBpweaqiGb5A5i', '管理员', 1, 1)
ON DUPLICATE KEY UPDATE real_name = VALUES(real_name);

-- ============================================================
-- 初始化 19 个卡口数据
-- ============================================================
INSERT INTO checkpoint (code, name, district, latitude, longitude, direction, road_name, type, status) VALUES
('CP001', '苏皖界1(104省道)', '睢宁县', 33.8095, 117.8682, '双向', 'G104', '省界卡口', 1),
('CP002', '苏皖界2(311国道)', '铜山区', 34.1482, 117.1965, '双向', 'G311', '省界卡口', 1),
('CP003', '苏皖界3(徐明高速)', '铜山区', 34.1976, 117.2981, '双向', '徐明高速', '省界卡口', 1),
('CP004', '苏皖界4(宿新高速)', '睢宁县', 33.9974, 117.8951, '双向', '宿新高速', '省界卡口', 1),
('CP005', '苏皖界5(徐淮高速)', '沛县', 34.7285, 116.9274, '双向', '徐淮高速', '省界卡口', 1),
('CP006', '苏皖界6(新扬高速)', '新沂市', 34.3742, 118.6048, '双向', '新扬高速', '省界卡口', 1),
('CP007', '苏鲁界1(206国道)', '沛县', 34.3192, 117.9683, '双向', 'G206', '省界卡口', 1),
('CP008', '苏鲁界2(104国道)', '邳州市', 34.2481, 117.0973, '双向', 'G104', '省界卡口', 1),
('CP009', '苏鲁界3(京台高速)', '贾汪区', 34.7975, 117.4982, '双向', 'G3', '省界卡口', 1),
('CP010', '苏鲁界4(枣庄连接线)', '邳州市', 34.2985, 117.8972, '双向', 'S250', '省界卡口', 1),
('CP011', '苏鲁界5(京沪高速)', '邳州市', 34.3795, 118.3482, '双向', '京沪高速', '省界卡口', 1),
('CP012', '苏鲁界6(沂河路)', '新沂市', 34.3791, 118.2387, '双向', '沂河路', '市界卡口', 1),
('CP013', '连云港界1(徐连高速)', '邳州市', 34.3478, 118.2963, '双向', '徐连高速', '市界卡口', 1),
('CP014', '连云港界2(310国道)', '邳州市', 34.5692, 116.7583, '双向', 'G310', '市界卡口', 1),
('CP015', '宿迁界1(徐宿高速)', '铜山区', 34.0482, 117.9473, '双向', '徐宿高速', '市界卡口', 1),
('CP016', '宿迁界2(徐宿快速)', '铜山区', 33.9965, 117.8982, '双向', '徐宿快速', '市界卡口', 1),
('CP017', '宿迁界3(104国道)', '睢宁县', 34.1973, 117.2481, '双向', 'G104', '市界卡口', 1),
('CP018', '宿迁界4(新扬高速)', '睢宁县', 34.6981, 116.5976, '双向', '新扬高速', '市界卡口', 1),
('CP019', '宿迁界5(徐盐高速)', '睢宁县', 34.7483, 116.6475, '双向', '徐盐高速', '市界卡口', 1)
ON DUPLICATE KEY UPDATE name = VALUES(name);
